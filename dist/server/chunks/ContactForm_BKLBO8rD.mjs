import { e as createAstro, f as createComponent, r as renderTemplate, h as addAttribute, m as maybeRenderHead } from './astro/server_C55uJX-_.mjs';
import 'kleur/colors';
import 'clsx';
import { b as buttonTranslations } from './Layout_BPuxJA3I.mjs';
/* empty css                           */

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(cooked.slice()) }));
var _a;
const $$Astro = createAstro("http://localhost:4321");
const $$ContactForm = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$ContactForm;
  const { heading, subtitle, language } = Astro2.props;
  return renderTemplate(_a || (_a = __template(["", '<div class="container" data-astro-cid-svshx33u> <div class="form-wrapper" data-astro-cid-svshx33u> <h2 class="animatable" data-astro-cid-svshx33u> ', ' </h2> <p class="subtitle animatable" data-astro-cid-svshx33u>', '</p> <form id="kontaktForm" data-astro-cid-svshx33u> <div class="loader-wrapper" id="loader-wrapper" data-astro-cid-svshx33u> <span class="loader" data-astro-cid-svshx33u></span> </div> <div data-astro-cid-svshx33u> <label for="name" data-astro-cid-svshx33u>', '</label> <input name="name" type="text" required data-astro-cid-svshx33u> </div> <div data-astro-cid-svshx33u> <label for="email" data-astro-cid-svshx33u>', '</label> <input name="email" type="email" required data-astro-cid-svshx33u> </div> <div data-astro-cid-svshx33u> <label for="tel" data-astro-cid-svshx33u>', '</label> <input name="tel" type="tel" data-astro-cid-svshx33u> </div> <div data-astro-cid-svshx33u> <label for="company" data-astro-cid-svshx33u>', '</label> <input name="company" type="text" data-astro-cid-svshx33u> </div> <div data-astro-cid-svshx33u> <label for="message" data-astro-cid-svshx33u>', '</label> <textarea name="message" rows="5" cols="33" required data-astro-cid-svshx33u></textarea> </div> <label class="hidden-field" style="display: none" data-astro-cid-svshx33u>\nWenn du ein Mensch bist, lass dieses Feld leer:\n<input type="text" name="website" autocomplete="off" data-astro-cid-svshx33u> </label> <label class="hidden-field" style="display: none" data-astro-cid-svshx33u> <input type="text" name="language" autocomplete="off"', ' data-astro-cid-svshx33u> </label> <div class="datenschutz" data-astro-cid-svshx33u> <input name="datenschutz" type="checkbox" required data-astro-cid-svshx33u><small data-astro-cid-svshx33u>', " <a", ' class="datenschutz-link" data-astro-cid-svshx33u>', '</a></small> </div> <div id="responseText" class="response-text" data-astro-cid-svshx33u></div> <button type="submit" id="sendButton" data-astro-cid-svshx33u>', '</button> </form> </div> <div class="contact-data" data-astro-cid-svshx33u> <p data-astro-cid-svshx33u>+43 771 22 95 000</p> <p data-astro-cid-svshx33u>office@feuchter.com</p> <p data-astro-cid-svshx33u>Feuchter GmbH</p> <p data-astro-cid-svshx33u>Innbruckstra\xDFe 10</p> <p data-astro-cid-svshx33u>4780 Sch\xE4rding AT</p> </div> </div> <script type="module">\n  const form = document.getElementById("kontaktForm");\n  const responseText = document.getElementById("responseText");\n  const sendButton = document.getElementById("sendButton");\n  const loader = document.getElementById("loader-wrapper");\n\n  form.addEventListener("submit", async (e) => {\n    e.preventDefault(); // verhindert Page Reload\n    const formData = new FormData(form);\n    const language = formData.get("language");\n    const returnValues = {\n      wait: {\n        de: "Bitte warten...",\n        en: "Please wait...",\n      },\n      send: {\n        de: "Senden",\n        en: "Send",\n      },\n      thanks: {\n        de: "Vielen Dank f\xFCr Ihre Nachricht. Wir werden uns schnellstm\xF6glich um Ihr Anliegen k\xFCmmern.",\n        en: "Thank you for your message. We will address your concern as soon as possible.",\n      },\n      error: {\n        de: "Bitte f\xFCllen Sie alle Pflichtfelder (*) aus.",\n        en: "Please fill out all the required (*) fields.",\n      },\n      networkError: {\n        de: "Es gab einen Fehler, bitte versuchen Sie es sp\xE4ter erneut",\n        en: "Seems like the was an error. Please try again later.",\n      },\n    };\n\n    try {\n      if (typeof gtag !== "undefined") {\n        console.log("analytics fired");\n        gtag("event", "submit", {\n          event_category: "Kontaktformular",\n          event_label: "Kontaktformular Abgesendet",\n        });\n      }\n      sendButton.innerText = returnValues.wait[language];\n      sendButton.setAttribute("disabled", true);\n      loader.style.display = "flex";\n      const res = await fetch("/api/contact", {\n        method: "POST",\n        body: formData,\n      });\n\n      const text = await res.text();\n\n      if (res.ok) {\n        sendButton.innerText = returnValues.send[language];\n        sendButton.removeAttribute("disabled");\n        loader.style.display = "none";\n        responseText.textContent = returnValues.thanks[language];\n        responseText?.classList.add("message-visible");\n        form.reset();\n      } else {\n        responseText.textContent = returnValues.error[language];\n        sendButton.innerText = returnValues.send[language];\n        sendButton.removeAttribute("disabled");\n        loader.style.display = "none";\n        responseText?.classList.add("message-visible");\n      }\n    } catch (err) {\n      sendButton.innerText = returnValues.send[language];\n      sendButton.removeAttribute("disabled");\n      responseText.textContent = returnValues.networkError[language];\n      loader.style.display = "none";\n      responseText?.classList.add("message-visible");\n    }\n  });\n<\/script> '])), maybeRenderHead(), heading, subtitle, buttonTranslations("formName", language), buttonTranslations("formEmail", language), buttonTranslations("formPhone", language), buttonTranslations("formCompany", language), buttonTranslations("formMessage", language), addAttribute(language, "value"), buttonTranslations("formPrivacy", language), addAttribute(`/${language}/legal/privacy`, "href"), buttonTranslations("datenschutz", language), buttonTranslations("formSend", language));
}, "C:/Users/sabri/OneDrive/Desktop/feuchter-gmbh-astro/feuchter-gmbh/src/components/ContactForm.astro", void 0);

export { $$ContactForm as $ };
