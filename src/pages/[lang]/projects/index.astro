---
import WelcomeLeftAligned from "@/components/WelcomeLeftAligned.astro";
import Layout from "@/layouts/Layout.astro";
import Projects from "@/components/Projects.astro";
import Scribble from "@/assets/projekte.jpg";
import type { AstroLocals } from "@/types";

const { locals } = Astro as unknown as { locals: AstroLocals };

type Language = "de" | "en"; // ✅ exakt erlaubt

const pageLanguage = (locals.language ?? "de") as Language;
type MetaData = {
  pageTitle: {
    de: string;
    en: string;
  };
  pageDescription: {
    de: string;
    en: string;
  };
};
const metaData: MetaData = {
  pageTitle: {
    de: "Projekte & Referenzen | Feuchter GmbH",
    en: "Projects & References | Feuchter GmbH",
  },
  pageDescription: {
    de: "Unsere langjährige Erfahrung, Innovationskraft und Verlässlichkeit machen uns zum starken Partner für anspruchsvolle Textilprojekte.",
    en: "Our decades of experience, innovation, and reliability make us a strong partner for demanding textile projects.",
  },
};

let heading = "Projekte & Referenzen";
let subtitle = "Vom Unterhemd bis zum Einsatzanzug";
let introText =
  "Ob Funktionskleidung für den täglichen Einsatz, maßgeschneiderte Lösungen für Behörden oder Großserienproduktion – unsere jahrzehntelange Erfahrung, Innovationskraft und Zuverlässigkeit machen uns zu einem starken Partner für anspruchsvolle Textilprojekte.";

if (pageLanguage == "en") {
  heading = "Projects & References";
  subtitle = "From underwear to tactical suits";
  introText =
    "Whether it's functional clothing for daily use, custom-made solutions for government agencies, or large-scale production runs – our decades of experience, innovation, and reliability make us a strong partner for demanding textile projects.";
}
---

<Layout
  pageTitle={metaData.pageTitle[pageLanguage]}
  pageDescription={metaData.pageDescription[pageLanguage]}
>
  <WelcomeLeftAligned
    language={pageLanguage}
    heading={heading}
    subtitle={subtitle}
    Scribble={Scribble}
    introText={introText}
    page="projects"
  />
  <Projects language={pageLanguage} />
</Layout>
