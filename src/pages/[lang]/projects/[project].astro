---
import ProjectAboveTheFold from "@/components/ProjectAboveTheFold.astro";
import ProjectRichText from "@/components/ProjectRichText.astro";
import Layout from "@/layouts/Layout.astro";
import projekte from "@/content/projects.js";
import type { AstroLocals } from "@/types";
const projectParam = Astro.params.project;
const currentProject = projekte.find((item) => {
  return item.slug == projectParam;
});
if (!currentProject) {
  return new Response(null, { status: 404 });
}
const { locals } = Astro as unknown as { locals: AstroLocals };

const pageLanguage = locals.language;
---

<Layout>
  <ProjectAboveTheFold
    currentProject={currentProject}
    language={pageLanguage}
  />
  <ProjectRichText richText={currentProject.richtextData} />
</Layout>
