---
import WelcomeLeftAligned from "@/components/WelcomeLeftAligned.astro";
import Layout from "@/layouts/Layout.astro";
import TeamGrid from "@/components/TeamGrid.astro";
import Scribble from "@/assets/firmengebaeude.jpg";
import type { AstroLocals } from "@/types";

const { locals } = Astro as unknown as { locals: AstroLocals };

type Language = "de" | "en"; // ✅ exakt erlaubt

const pageLanguage = (locals.language ?? "de") as Language;
type MetaData = {
  pageTitle: {
    de: string;
    en: string;
  };
  pageDescription: {
    de: string;
    en: string;
  };
};
const metaData: MetaData = {
  pageTitle: {
    de: "Über uns | Feuchter GmbH",
    en: "About us | Feuchter GmbH",
  },
  pageDescription: {
    de: "Seit 1957 Ihr internationaler Partner für hochwertige Schutzbekleidung für Armeen und Behörden. Maßgeschneiderte Lösungen für höchste Ansprüche.",
    en: "Since 1957, your international partner for high-quality apparel for armies and authorities. Tailored solutions for the highest demands.",
  },
};

let heading =
  "Vom Traditionellen Bekleidungshersteller bis zum international agierenden Ausstatter von Armeen und Behörden";
let subtitle = "Familiengeführt seit 1957";
let introText = `Seit 1957 haben wir uns von einem traditionellen Bekleidungshersteller zu einem international tätigen Ausrüster für Armeen und Behörden weltweit entwickelt. Mit unserer langjährigen Erfahrung bieten wir maßgeschneiderte Lösungen, die höchsten Ansprüchen an Qualität, Funktionalität und Sicherheit gerecht werden.`;
if (pageLanguage == "en") {
  heading =
    "From a traditional clothing manufacturer to an internationally operating supplier of armies and authorities";
  subtitle = "Family-owned since 1957.";
  introText = `Since 1957, we have evolved from a traditional clothing manufacturer into an internationally operating supplier for armies and authorities worldwide. With our many years of experience, we offer tailored solutions that meet the highest standards of quality, functionality, and safety.`;
}
---

<Layout
  pageTitle={metaData.pageTitle[pageLanguage]}
  pageDescription={metaData.pageDescription[pageLanguage]}
>
  <WelcomeLeftAligned
    language={pageLanguage}
    heading={heading}
    subtitle={subtitle}
    introText={introText}
    Scribble={Scribble}
  />
  <TeamGrid language={pageLanguage} />
</Layout>
